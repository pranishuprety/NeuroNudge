<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>NeuroNudge Focus Reset</title>
  <style>
    :root {
      font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color-scheme: dark;
      --bg: radial-gradient(120% 140% at 0% 10%, rgba(56, 189, 248, 0.16), transparent 62%), #040712;
      --bg-push: radial-gradient(120% 140% at 0% 10%, rgba(249, 115, 22, 0.2), transparent 62%), #0b0505;
      --bg-interrupt: radial-gradient(110% 140% at 0% 10%, rgba(239, 68, 68, 0.22), transparent 62%), #090112;
      --bg-reset: radial-gradient(130% 140% at 0% 10%, rgba(45, 212, 191, 0.2), transparent 62%), #02100f;
      --card: rgba(13, 23, 45, 0.78);
      --border: rgba(148, 163, 184, 0.18);
      --text-primary: #f8fafc;
      --text-secondary: #94a3b8;
      --accent: #38bdf8;
      --accent-push: #f97316;
      --accent-interrupt: #ef4444;
      --accent-reset: #2dd4bf;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: var(--bg);
      color: var(--text-primary);
      display: flex;
      justify-content: center;
      align-items: stretch;
      padding: 48px 20px 56px;
    }

    body[data-mode="push"] {
      background: var(--bg-push);
    }

    body[data-mode="interrupt"] {
      background: var(--bg-interrupt);
    }

    body[data-mode="reset"] {
      background: var(--bg-reset);
    }

    main {
      width: min(720px, 100%);
      background: linear-gradient(160deg, rgba(8, 15, 32, 0.95), rgba(7, 14, 28, 0.82));
      border-radius: 28px;
      border: 1px solid var(--border);
      padding: 32px 32px 36px;
      display: grid;
      gap: 28px;
      box-shadow: 0 28px 64px rgba(2, 6, 23, 0.65);
    }

    header {
      display: grid;
      gap: 14px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      padding: 6px 18px;
      border-radius: 999px;
      color: var(--accent);
      background: rgba(56, 189, 248, 0.12);
      border: 1px solid rgba(56, 189, 248, 0.36);
      width: max-content;
    }

    body[data-mode="push"] .badge {
      color: var(--accent-push);
      border-color: rgba(249, 115, 22, 0.32);
      background: rgba(249, 115, 22, 0.12);
    }

    body[data-mode="interrupt"] .badge {
      color: var(--accent-interrupt);
      border-color: rgba(239, 68, 68, 0.32);
      background: rgba(239, 68, 68, 0.12);
    }

    body[data-mode="reset"] .badge {
      color: var(--accent-reset);
      border-color: rgba(45, 212, 191, 0.32);
      background: rgba(45, 212, 191, 0.12);
    }

    h1 {
      margin: 0;
      font-size: 32px;
      font-weight: 600;
      letter-spacing: 0.015em;
    }

    header p {
      margin: 0;
      color: var(--text-secondary);
      font-size: 15px;
      line-height: 1.6;
    }

    .why {
      display: grid;
      gap: 10px;
    }

    .why-label {
      font-size: 12px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-secondary);
    }

    .why-chip {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 16px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.24);
      background: rgba(12, 22, 46, 0.45);
      font-size: 13px;
      letter-spacing: 0.02em;
      color: var(--text-primary);
      width: fit-content;
      max-width: 100%;
    }

    .stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
    }

    .stat-card {
      background: rgba(10, 20, 42, 0.7);
      border: 1px solid rgba(148, 163, 184, 0.18);
      border-radius: 18px;
      padding: 18px 16px;
      display: grid;
      gap: 6px;
    }

    .stat-label {
      font-size: 12px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--text-secondary);
    }

    .stat-value {
      font-size: 20px;
      font-weight: 600;
    }

    .micro-reset {
      background: rgba(12, 24, 52, 0.62);
      border: 1px solid rgba(148, 163, 184, 0.2);
      border-radius: 20px;
      padding: 20px 22px;
      display: grid;
      gap: 10px;
    }

    .micro-reset h2 {
      margin: 0;
      font-size: 16px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--text-secondary);
    }

    .micro-reset p {
      margin: 0;
      font-size: 15px;
      line-height: 1.6;
    }

    .timer-card {
      background: rgba(11, 22, 46, 0.55);
      border: 1px solid rgba(45, 212, 191, 0.32);
      border-radius: 20px;
      padding: 18px;
      display: grid;
      gap: 6px;
    }

    .timer-label {
      font-size: 12px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: rgba(45, 212, 191, 0.8);
    }

    .timer-value {
      font-size: 36px;
      font-weight: 600;
      letter-spacing: 0.08em;
    }

    .actions {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    button {
      appearance: none;
      border: none;
      border-radius: 14px;
      padding: 12px 22px;
      font-size: 15px;
      font-weight: 500;
      letter-spacing: 0.04em;
      cursor: pointer;
      transition: transform 0.18s ease, box-shadow 0.18s ease, opacity 0.18s ease;
    }

    button.primary {
      background: linear-gradient(120deg, rgba(56, 189, 248, 0.95), rgba(14, 165, 233, 0.95));
      color: #020617;
      box-shadow: 0 18px 36px rgba(14, 165, 233, 0.25);
    }

    body[data-mode="push"] button.primary {
      background: linear-gradient(120deg, rgba(249, 115, 22, 0.95), rgba(245, 158, 11, 0.9));
      box-shadow: 0 18px 36px rgba(249, 115, 22, 0.28);
    }

    body[data-mode="interrupt"] button.primary {
      background: linear-gradient(120deg, rgba(239, 68, 68, 0.95), rgba(248, 113, 113, 0.9));
      box-shadow: 0 18px 36px rgba(239, 68, 68, 0.25);
    }

    body[data-mode="reset"] button.primary {
      background: linear-gradient(120deg, rgba(45, 212, 191, 0.95), rgba(16, 185, 129, 0.9));
      box-shadow: 0 18px 36px rgba(45, 212, 191, 0.25);
    }

    button.secondary {
      background: rgba(148, 163, 184, 0.18);
      color: var(--text-primary);
      border: 1px solid rgba(148, 163, 184, 0.22);
    }

    button:focus-visible {
      outline: 2px solid rgba(148, 163, 184, 0.48);
      outline-offset: 2px;
    }

    button:hover {
      transform: translateY(-1px);
      opacity: 0.92;
    }

    @media (max-width: 640px) {
      main {
        padding: 26px 22px 32px;
      }

      h1 {
        font-size: 26px;
      }

      .stats {
        grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      }
    }
  </style>
</head>
<body data-mode="gentle">
  <main>
    <header>
      <span class="badge" id="modeBadge">Gentle Reset</span>
      <h1 id="modeTitle">Ease back into focus</h1>
      <p id="modeMessage">Give yourself a mindful beat. Close the distractions, take a breath, and choose your next move with intention.</p>
    </header>

    <section class="why">
      <span class="why-label">Why this nudge</span>
      <span class="why-chip" id="whyChip">Nudged because: focus check-in.</span>
    </section>

    <section class="stats">
      <article class="stat-card">
        <span class="stat-label">Minutes to target</span>
        <span class="stat-value" id="statTarget">—</span>
      </article>
      <article class="stat-card">
        <span class="stat-label">Distracting minutes</span>
        <span class="stat-value" id="statDistracting">—</span>
      </article>
      <article class="stat-card">
        <span class="stat-label">5-min KPM</span>
        <span class="stat-value" id="statKpm">—</span>
      </article>
      <article class="stat-card">
        <span class="stat-label">Flow streak</span>
        <span class="stat-value" id="statFlow">—</span>
      </article>
      <article class="stat-card" id="statRiskCard">
        <span class="stat-label">Risk score</span>
        <span class="stat-value" id="statRisk">—</span>
      </article>
    </section>

    <section class="micro-reset">
      <h2>Micro reset</h2>
      <p id="microText">Try a box-breath: inhale 4s, hold 4s, exhale 4s, hold 4s — repeat 4 times.</p>
    </section>

    <section class="timer-card" id="resetCard" hidden>
      <span class="timer-label">Reset timer</span>
      <span class="timer-value" id="resetTimer">02:00</span>
    </section>

    <div class="actions">
      <button class="primary" id="resumeBtn">Resume flow</button>
      <button class="secondary" id="closeBtn">Close tab</button>
    </div>
  </main>
  <script type="module" src="newtab_adaptive.js"></script>
</body>
</html>
